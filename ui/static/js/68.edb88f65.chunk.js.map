{"version":3,"file":"static/js/68.edb88f65.chunk.js","mappings":"oOA0JA,UAjJkB,WACd,IAAMA,GAA+BC,EAAAA,EAAAA,GAAaC,EAAAA,GAClDC,GAA0BC,EAAAA,EAAAA,UAAS,MAAKC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAjCI,EAAKF,EAAA,GAAEG,EAAQH,EAAA,GACtBI,GAA0BL,EAAAA,EAAAA,UAAS,oBAAmBM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAA/CE,EAAKD,EAAA,GAAEE,EAAQF,EAAA,GACtBG,GAA4BT,EAAAA,EAAAA,UAAS,IAAGU,GAAAR,EAAAA,EAAAA,GAAAO,EAAA,GAAjCE,EAAMD,EAAA,GAAEE,EAASF,EAAA,GACxBG,GAAgCb,EAAAA,EAAAA,UAAS,IAAGc,GAAAZ,EAAAA,EAAAA,GAAAW,EAAA,GAArCE,EAAQD,EAAA,GAAEE,EAAWF,EAAA,GAC5BG,GAA8BjB,EAAAA,EAAAA,WAAS,GAAMkB,GAAAhB,EAAAA,EAAAA,GAAAe,EAAA,GAAtCE,EAAOD,EAAA,GAAEE,EAAUF,EAAA,GACpBG,GAAWC,EAAAA,EAAAA,UACXC,EAAQC,aAAaC,QAAQ,WAOnCC,EAAAA,EAAAA,YAAU,WACNL,EAASM,QAAQC,OACrB,GAAG,IAsBH,IAAMC,EAAY,CACdC,gBAAiB,iBACjBC,MAAO,QACPC,gBAAiB,kBAEfC,EAAa,CACnB,GAEAP,EAAAA,EAAAA,YAAU,WACN,IAAIQ,GAAY,EACVC,EAAa,IAAIC,gBAEjBC,EAAK,eAAAC,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,IAAA,IAAAC,EAAA,OAAAH,EAAAA,EAAAA,KAAAI,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAEU,OAFVF,EAAAC,KAAA,EAEN1B,GAAW,GAAKyB,EAAAE,KAAA,EACEC,EAAAA,EAAMC,IAAI,IAADC,OAAK3C,EAAK,4BAAA2C,OAA2B/C,GAC5D,CACIgD,QAAS,CAAE,cAAgB,UAADD,OAAY3B,GAAS,eAAgB,qBAEnE,CACI6B,OAAQjB,EAAWiB,SACpB,KAAD,EANAT,EAAGE,EAAAQ,KAOTnB,GAAatB,EAAa,OAAH+B,QAAG,IAAHA,OAAG,EAAHA,EAAKW,MAC5BlC,GAAW,GAAMyB,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAU,GAAAV,EAAA,SAEjBW,QAAQC,MAAKZ,EAAAU,IAAM,yBAAAV,EAAAa,OAAA,GAAAhB,EAAA,kBAE1B,kBAfU,OAAAJ,EAAAqB,MAAA,KAAAC,UAAA,KAmBX,OAFAvB,IAEO,YACHH,GAAY,IACCC,EAAW0B,OAC5B,CACJ,GAAG,CAAC1D,EAAOI,IAEX,IAAAuD,GAAgC9D,EAAAA,EAAAA,YAAU+D,GAAA7D,EAAAA,EAAAA,GAAA4D,EAAA,GAAnCE,EAAQD,EAAA,GAAEE,EAAWF,EAAA,GAE5B,OACIG,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACIF,EAAAA,EAAAA,MAAA,MAAIG,UAAU,YAAWD,SAAA,EAACE,EAAAA,EAAAA,KAAA,QAAMD,UAAU,4EAA2ED,UAACE,EAAAA,EAAAA,KAACC,EAAAA,EAAe,CAACC,KAAMC,EAAAA,QAAkB,yGAC/JP,EAAAA,EAAAA,MAAA,OAAKG,UAAU,oEAAmED,SAAA,EAC9EE,EAAAA,EAAAA,KAAA,OAAKD,UAAU,+CAA8CD,UACzDF,EAAAA,EAAAA,MAAA,MAAIG,UAAU,oCAAmCD,SAAA,EAC7CE,EAAAA,EAAAA,KAAA,MAAID,UAAU,0GAA0GK,QAAS,WAAQT,GAAaD,EAAU,EAAEI,SAAC,mEACnKE,EAAAA,EAAAA,KAAA,MAAID,UAAS,wLAAAnB,OAA0Lc,EAAW,SAAW,UAAYW,MAAiB,qBAAVpE,EAA+BsB,EAAYI,EAAYyC,QAlE3T,WACIlE,EAAS,mBACb,EAgE0V4D,SAAC,iGACvUE,EAAAA,EAAAA,KAAA,MAAID,UAAS,wLAAAnB,OAA0Lc,EAAW,SAAW,UAAYW,MAAiB,oBAAVpE,EAA8BsB,EAAYI,EAAYyC,QA/D1T,WACIlE,EAAS,kBACb,EA6DwV4D,SAAC,2FACrUE,EAAAA,EAAAA,KAAA,MAAID,UAAS,wLAAAnB,OAA0Lc,EAAW,SAAW,UAAYW,MAAiB,YAAVpE,EAAsBsB,EAAYI,EAAYyC,QAxDlT,WACIlE,EAAS,UACb,EAsDyU4D,SAAC,0CACtTE,EAAAA,EAAAA,KAAA,MAAID,UAAS,wLAAAnB,OAA0Lc,EAAW,SAAW,UAAYW,MAAiB,cAAVpE,EAAwBsB,EAAYI,EAAYyC,QA7DpT,WACIlE,EAAS,YACb,EA2DyU4D,SAAC,kEACtTE,EAAAA,EAAAA,KAAA,MAAID,UAAS,wLAAAnB,OAA0Lc,EAAW,SAAW,SAAQ,oBAAoBW,MAAiB,gBAAVpE,EAA0BsB,EAAYI,EAAYyC,QAtDtU,WACIlE,EAAS,cACb,EAoD0V4D,SAAC,6EAG/UE,EAAAA,EAAAA,KAAA,OAAKD,UAAU,wEAAuED,UAClFF,EAAAA,EAAAA,MAAA,MAAIG,UAAU,2CAA0CD,SAAA,EACpDE,EAAAA,EAAAA,KAAA,MAAID,UAAU,sDAAqDD,SAAC,2EACpEE,EAAAA,EAAAA,KAAA,MAAID,UAAU,4DAA2DD,UACrEE,EAAAA,EAAAA,KAAA,SACID,UAAU,kHACVO,KAAK,WACLC,KAAK,WACLC,GAAG,WAEHC,IAAK1D,EACL2D,MAAOjE,EACPkE,SAAU,SAACC,GAAC,OAAKlE,EAAYkE,EAAEC,OAAOH,MAAM,EAE5CN,QAAS,SAACQ,GAAQtE,EAAU,IAAKI,EAAY,GAAI,OAGzDsD,EAAAA,EAAAA,KAAA,MAAID,UAAU,sDAAqDD,SAAC,8BACpEE,EAAAA,EAAAA,KAAA,MAAID,UAAU,oLAAoLK,QApGtN,WAEItE,EAASW,EACb,EAiG2OqD,UAACE,EAAAA,EAAAA,KAAA,QAAAF,SAAM,0CAG9N,OAANzD,QAAM,IAANA,GAAAA,EAAQyE,QAOJd,EAAAA,EAAAA,KAAAH,EAAAA,SAAA,CAAAC,SACIjD,GAcImD,EAAAA,EAAAA,KAAA,OAAKD,UAAU,oCAAmCD,UAChDE,EAAAA,EAAAA,KAAA,KAAGD,UAAU,uBAAsBD,SAAC,sIAfhCE,EAAAA,EAAAA,KAACe,EAAAA,EAAS,CAClB/B,KAAM3C,EACN2E,MAAO,IACPC,OAAQ,IACRC,KAAK,QACLC,UAAU,SAEVC,SAAU,SAACC,GAAI,OAA4B,EAAvBC,KAAKC,IAAIF,EAAKX,MAAU,EAC5Cc,OAAO,cACPC,OAAQ,SAACJ,GAAI,OAAKA,EAAKX,MAAQ,CAAC,EAChCgB,QAAS,EACTC,OAAQL,KAAKK,OACbC,KAAM,SAACC,EAAGC,GAAC,OAAKxG,EAA6BwG,EAAE,OApBxClC,EAAAA,EAAAA,MAAA,OAAKG,UAAU,+BAA8BD,SAAA,EAC5DE,EAAAA,EAAAA,KAAA,KAAGD,UAAU,uBAAsBD,SAAC,oSACnCjD,GAAUmD,EAAAA,EAAAA,KAAA,OAAKD,UAAU,oCAAmCD,UACzDE,EAAAA,EAAAA,KAAA,KAAGD,UAAU,uBAAsBD,SAAC,qIAElC,WAyB1B,C","sources":["Components/CloudWord.js"],"sourcesContent":["import { useState, useEffect, useRef } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCloud } from '@fortawesome/free-solid-svg-icons';\r\nimport axios from './Api/axios';\r\nimport WordCloud from 'react-d3-cloud';\r\nimport { scaleOrdinal } from 'd3-scale';\r\nimport { schemeCategory10 } from 'd3-scale-chromatic';\r\n\r\n\r\nconst CloudWord = () => {\r\n    const schemeCategory10ScaleOrdinal = scaleOrdinal(schemeCategory10);\r\n    const [clDay, setClDay] = useState('30');\r\n    const [catCl, setCatCl] = useState('telegram_channel');\r\n    const [clData, setClData] = useState([]);\r\n    const [clDayInp, setClDayInp] = useState(30);\r\n    const [loading, setLoading] = useState(false);\r\n    const inputRef = useRef();\r\n    const token = localStorage.getItem('access');\r\n\r\n    function handleClick() {\r\n\r\n        setClDay(clDayInp);\r\n    }\r\n\r\n    useEffect(() => {\r\n        inputRef.current.focus();\r\n    }, [])\r\n\r\n    function turnToTelegramChannel() {\r\n        setCatCl('telegram_channel');\r\n    }\r\n\r\n    function turnToTelegramGroups() {\r\n        setCatCl('telegram_groups');\r\n    }\r\n\r\n    function turnToInsta() {\r\n        setCatCl('instagram');\r\n    }\r\n\r\n    function turnToTweeter() {\r\n        setCatCl('twitter');\r\n    }\r\n\r\n    function turnToPost() {\r\n        setCatCl('news_agency');\r\n    }\r\n\r\n    const actFilter = {\r\n        backgroundColor: \"rgb(1, 31, 75)\",\r\n        color: \"white\",\r\n        borderLeftColor: \"rgb(1, 31, 75)\",\r\n    };\r\n    const dActFilter = {\r\n    }\r\n\r\n    useEffect(() => {\r\n        let isMounted = true;\r\n        const controller = new AbortController();\r\n\r\n        const getCl = async () => {\r\n            try {\r\n                setLoading(true)\r\n                const res = await axios.get(`/${catCl}/get_tag_cload?days_ago=${clDay}`,\r\n                    {\r\n                        headers: { 'Authorization': `Bearer ${token}`, 'Content-Type': 'application/json' }\r\n                    },\r\n                    {\r\n                        signal: controller.signal\r\n                    });\r\n                isMounted && setClData(res?.data);\r\n                setLoading(false)\r\n            } catch (err) {\r\n                console.error(err);\r\n            }\r\n        }\r\n\r\n        getCl();\r\n\r\n        return () => {\r\n            isMounted = false;\r\n            isMounted && controller.abort();\r\n        }\r\n    }, [clDay, catCl])\r\n\r\n    const [typeShow, setTypeShow] = useState()\r\n\r\n    return (\r\n        <>\r\n            <h5 className='mt-8 px-4'><span className='inline-block place-content-center align-top text-middle-blue text-xl ml-2'><FontAwesomeIcon icon={faCloud} /></span>ابر موجودیت روزانه</h5>\r\n            <div className='cloudword-container bg-white border-slate-400 rounded-md p-4 mt-4'>\r\n                <nav className='rounded-lg max-w-fit h-10 z-50 mt-2 md:mb-10'>\r\n                    <ul className='flex flex-col md:flex-row p-0 m-0'>\r\n                        <li className=' text-white grid place-content-center text-base py-2 px-1 w-28 bg-dark-blue md:rounded-r-md select-none' onClick={() => { setTypeShow(!typeShow) }}>انتخاب بستر</li>\r\n                        <li className={`flex relative justify-center items-center text-center text-sm select-none transition-all duration-200 ease-in text-gray-100 bg-middle-blue w-28 py-2 px-1 md:mr-1 hover:bg-dark-blue ${typeShow ? \"mobVis\" : \"mobHid\"}`} style={catCl === \"telegram_channel\" ? actFilter : dActFilter} onClick={turnToTelegramChannel}>کانال‌های تلگرام</li>\r\n                        <li className={`flex relative justify-center items-center text-center text-sm select-none transition-all duration-200 ease-in text-gray-100 bg-middle-blue w-28 py-2 px-1 md:mr-1 hover:bg-dark-blue ${typeShow ? \"mobVis\" : \"mobHid\"}`} style={catCl === \"telegram_groups\" ? actFilter : dActFilter} onClick={turnToTelegramGroups}>گروه‌های تلگرام</li>\r\n                        <li className={`flex relative justify-center items-center text-center text-sm select-none transition-all duration-200 ease-in text-gray-100 bg-middle-blue w-28 py-2 px-1 md:mr-1 hover:bg-dark-blue ${typeShow ? \"mobVis\" : \"mobHid\"}`} style={catCl === \"twitter\" ? actFilter : dActFilter} onClick={turnToTweeter}>توییتر</li>\r\n                        <li className={`flex relative justify-center items-center text-center text-sm select-none transition-all duration-200 ease-in text-gray-100 bg-middle-blue w-28 py-2 px-1 md:mr-1 hover:bg-dark-blue ${typeShow ? \"mobVis\" : \"mobHid\"}`} style={catCl === \"instagram\" ? actFilter : dActFilter} onClick={turnToInsta}>اینستاگرام</li>\r\n                        <li className={`flex relative justify-center items-center text-center text-sm select-none transition-all duration-200 ease-in text-gray-100 bg-middle-blue w-28 py-2 px-1 md:mr-1 hover:bg-dark-blue ${typeShow ? \"mobVis\" : \"mobHid\"} md:rounded-l-md`} style={catCl === \"news_agency\" ? actFilter : dActFilter} onClick={turnToPost}>خبرگذاری‌ها</li>\r\n                    </ul>\r\n                </nav>\r\n                <nav className=' bg-light-blue w-1/3 rounded-md mx-auto my-4 border-4 border-blue-950'>\r\n                    <ul className='flex justify-center items-center m-0 p-0'>\r\n                        <li className=' text-blue-950 text-center py-3 px-1 cursor-default'>نمایش در بازه </li>\r\n                        <li className='flex items-center justify-center text-center align-middle'>\r\n                            <input\r\n                                className=\"search-input select-none inline-block w-10 h-8 text-center my-2 mx-auto rounded-md p-1 border-2 border-blue-950\"\r\n                                type=\"clSearch\"\r\n                                name=\"clSearch\"\r\n                                id=\"clSearch\"\r\n                                // placeholder=\"30\"\r\n                                ref={inputRef}\r\n                                value={clDayInp}\r\n                                onChange={(e) => setClDayInp(e.target.value)\r\n                                }\r\n                                onClick={(e) => { setClData([]); setClDayInp('') }}\r\n                            />\r\n                        </li>\r\n                        <li className=' text-blue-950 text-center py-3 px-1 cursor-default'>روزه</li>\r\n                        <li className=' flex justify-center items-center rounded-md text-white bg-blue-950 hover:bg-middle-blue cursor-pointer h-8 text-center py-1 px-2 select-none transition-all duration-200 ease-in' onClick={handleClick}><span>اعمال</span></li>\r\n                    </ul>\r\n                </nav>\r\n                {!clData?.length ? <div className=' w-full h-128 justify-center'>\r\n                    <p className=' text-center text-lg'>برای مشاهده ابر کلمات، تعداد روز مورد نظر را مشخص نمایید.</p>\r\n                    {loading ? <div className=' w-full h-128 flex justify-center'>\r\n                        <p className=' text-center text-lg'>در حال بارگذاری اطلاعات...</p>\r\n                    </div>\r\n                        : ''}\r\n                </div>\r\n                    : <>\r\n                        {!loading ? <WordCloud\r\n                            data={clData}\r\n                            width={500}\r\n                            height={200}\r\n                            font=\"Vazir\"\r\n                            fontStyle=\"normal\"\r\n                            // fontWeight=\"regular\"\r\n                            fontSize={(word) => Math.log(word.value) * 3}\r\n                            spiral=\"rectangular\"\r\n                            rotate={(word) => word.value % 1}\r\n                            padding={1}\r\n                            random={Math.random}\r\n                            fill={(d, i) => schemeCategory10ScaleOrdinal(i)}\r\n                        />\r\n                            : <div className=' w-full h-128 flex justify-center'>\r\n                                <p className=' text-center text-lg'>در حال بارگذاری اطلاعات...</p>\r\n                            </div>}\r\n                    </>\r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CloudWord"],"names":["schemeCategory10ScaleOrdinal","scaleOrdinal","schemeCategory10","_useState","useState","_useState2","_slicedToArray","clDay","setClDay","_useState3","_useState4","catCl","setCatCl","_useState5","_useState6","clData","setClData","_useState7","_useState8","clDayInp","setClDayInp","_useState9","_useState10","loading","setLoading","inputRef","useRef","token","localStorage","getItem","useEffect","current","focus","actFilter","backgroundColor","color","borderLeftColor","dActFilter","isMounted","controller","AbortController","getCl","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_context","prev","next","axios","get","concat","headers","signal","sent","data","t0","console","error","stop","apply","arguments","abort","_useState11","_useState12","typeShow","setTypeShow","_jsxs","_Fragment","children","className","_jsx","FontAwesomeIcon","icon","faCloud","onClick","style","type","name","id","ref","value","onChange","e","target","length","WordCloud","width","height","font","fontStyle","fontSize","word","Math","log","spiral","rotate","padding","random","fill","d","i"],"sourceRoot":""}